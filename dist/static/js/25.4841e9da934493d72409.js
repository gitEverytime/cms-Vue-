webpackJsonp([25],{"3WUp":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("h3sT"),o=r.n(a);for(var i in a)"default"!==i&&function(e){r.d(t,e,function(){return a[e]})}(i);var n=r("f0u/"),s=r("qs7J"),l=Object(s.a)(o.a,n.a,n.b,!1,null,null,null);t.default=l.exports},SldL:function(e,t){!function(t){"use strict";function r(e,t,r,a){var i=t&&t.prototype instanceof o?t:o,n=Object.create(i.prototype),s=new p(a||[]);return n._invoke=u(e,r,s),n}function a(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function n(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(r,o,i,n){var s=a(e[r],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,n)},function(e){t("throw",e,i,n)}):Promise.resolve(u).then(function(e){l.value=e,i(l)},n)}n(s.arg)}function r(e,r){function a(){return new Promise(function(a,o){t(e,r,a,o)})}return o=o?o.then(a,a):a()}var o;this._invoke=r}function u(e,t,r){var o=L;return function(i,n){if(o===O)throw new Error("Generator is already running");if(o===P){if("throw"===i)throw n;return h()}for(r.method=i,r.arg=n;;){var s=r.delegate;if(s){var l=c(s,r);if(l){if(l===S)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===L)throw o=P,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=O;var u=a(e,t,r);if("normal"===u.type){if(o=r.done?P:$,u.arg===S)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=P,r.method="throw",r.arg=u.arg)}}}function c(e,t){var r=e.iterator[t.method];if(r===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=a(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function m(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=g,t.done=!0,t};return a.next=a}}return{next:h}}function h(){return{value:g,done:!0}}var g,v=Object.prototype,y=v.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},b=w.iterator||"@@iterator",F=w.asyncIterator||"@@asyncIterator",_=w.toStringTag||"@@toStringTag",x="object"==typeof e,I=t.regeneratorRuntime;if(I)return void(x&&(e.exports=I));I=t.regeneratorRuntime=x?e.exports:{},I.wrap=r;var L="suspendedStart",$="suspendedYield",O="executing",P="completed",S={},E={};E[b]=function(){return this};var T=Object.getPrototypeOf,k=T&&T(T(m([])));k&&k!==v&&y.call(k,b)&&(E=k);var N=n.prototype=o.prototype=Object.create(E);i.prototype=N.constructor=n,n.constructor=i,n[_]=i.displayName="GeneratorFunction",I.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},I.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,n):(e.__proto__=n,_ in e||(e[_]="GeneratorFunction")),e.prototype=Object.create(N),e},I.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[F]=function(){return this},I.AsyncIterator=l,I.async=function(e,t,a,o){var i=new l(r(e,t,a,o));return I.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(N),N[_]="Generator",N[b]=function(){return this},N.toString=function(){return"[object Generator]"},I.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},I.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,a){return i.type="throw",i.arg=e,r.next=t,a&&(r.method="next",r.arg=g),!!a}if(this.done)throw e;for(var r=this,a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var n=y.call(o,"catchLoc"),s=y.call(o,"finallyLoc");if(n&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(n){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&y.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),f(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;f(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:m(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=g),S}}}(function(){return this}()||Function("return this")())},Xxa5:function(e,t,r){e.exports=r("jyFz")},exGp:function(e,t,r){"use strict";t.__esModule=!0;var a=r("//Fk"),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,r){function a(i,n){try{var s=t[i](n),l=s.value}catch(e){return void r(e)}if(!s.done)return o.default.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}return a("next")})}}},"f0u/":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"typeEdit-wrap"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/type-manage"}}},[e._v("类型管理")]),e._v(" "),e.$route.params.id<1?r("el-breadcrumb-item",[e._v("新增类型")]):e._e(),e._v(" "),e.$route.params.id>0?r("el-breadcrumb-item",[e._v("类型详情")]):e._e()],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"产品LOGO"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.api.deviceManageApi.smartTypeUploading,name:"logoFile","show-file-list":!1,disabled:e.$route.params.id>0,"on-success":e.handleAvatarSuccess2}},[e.ruleForm.logoImg?r("img",{staticClass:"avatar",attrs:{src:e.ruleForm.logoImg}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.ruleForm.logoImg?e._e():r("div",{staticClass:"el-upload__tip"},[e._v("请上传一张图片")])],1),e._v(" "),r("el-form-item",{attrs:{label:"重置提示图"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.api.deviceManageApi.smartTypeUploading,name:"resetImgFile","show-file-list":!1,disabled:e.$route.params.id>0,"on-success":e.handleAvatarSuccess3}},[e.ruleForm.resetImg?r("img",{staticClass:"avatar",attrs:{src:e.ruleForm.resetImg}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.ruleForm.resetImg?e._e():r("div",{staticClass:"el-upload__tip"},[e._v("请上传一张图片")])],1),e._v(" "),r("el-form-item",{attrs:{label:"类目选择"}},[r("el-cascader",{attrs:{disabled:e.$route.params.id>0,options:e.options,"expand-trigger":"hover",props:{label:"name",value:"id",children:"categoryModelList"}},on:{change:e.handleChange},model:{value:e.selectedOptions2,callback:function(t){e.selectedOptions2=t},expression:"selectedOptions2"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"WIFI名称",prop:"wifiName"}},[r("el-input",{attrs:{placeholder:"请输入WIFI名称",disabled:e.$route.params.id>0},model:{value:e.ruleForm.wifiName,callback:function(t){e.$set(e.ruleForm,"wifiName",t)},expression:"ruleForm.wifiName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"WIFI密码",prop:"wifiPassword"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入WIFI密码",disabled:e.$route.params.id>0},model:{value:e.ruleForm.wifiPassword,callback:function(t){e.$set(e.ruleForm,"wifiPassword",t)},expression:"ruleForm.wifiPassword"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"cVersionLast",prop:"cVersionLast"}},[r("el-input",{attrs:{placeholder:"请输入cVersionLast",disabled:e.$route.params.id>0},model:{value:e.ruleForm.cVersionLast,callback:function(t){e.$set(e.ruleForm,"cVersionLast",t)},expression:"ruleForm.cVersionLast"}})],1),e._v(" "),r("el-form-item",[e.$route.params.id<1?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]):e._e()],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"状态就绪提示图"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.api.deviceManageApi.smartTypeUploading,"show-file-list":!1,name:"readyYesImgFile",disabled:e.$route.params.id>0,"on-success":e.handleAvatarSuccess1}},[e.ruleForm.readyYesImg?r("img",{staticClass:"avatar",attrs:{src:e.ruleForm.readyYesImg}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.ruleForm.readyYesImg?e._e():r("div",{staticClass:"el-upload__tip"},[e._v("请上传一张图片")])],1),e._v(" "),r("el-form-item",{attrs:{label:"状态未就绪提示图"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.api.deviceManageApi.smartTypeUploading,"show-file-list":!1,name:"readyNoImgFile",disabled:e.$route.params.id>0,"on-success":e.handleAvatarSuccess4}},[e.ruleForm.readyNoImg?r("img",{staticClass:"avatar",attrs:{src:e.ruleForm.readyNoImg}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.ruleForm.readyNoImg?e._e():r("div",{staticClass:"el-upload__tip"},[e._v("请上传一张图片")])],1),e._v(" "),r("el-form-item",{attrs:{label:"WIFI_IP",prop:"wifiHost"}},[r("el-input",{attrs:{placeholder:"请输入WIFI_IP",disabled:e.$route.params.id>0},model:{value:e.ruleForm.wifiHost,callback:function(t){e.$set(e.ruleForm,"wifiHost",t)},expression:"ruleForm.wifiHost"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"WIFI端口",prop:"wifiPort"}},[r("el-input",{attrs:{placeholder:"请输入WIFI端口号",disabled:e.$route.params.id>0},model:{value:e.ruleForm.wifiPort,callback:function(t){e.$set(e.ruleForm,"wifiPort",t)},expression:"ruleForm.wifiPort"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"bxid前4位",prop:"bxid4"}},[r("el-input",{attrs:{placeholder:"请输入bxid前4位",disabled:e.$route.params.id>0},model:{value:e.ruleForm.bxid4,callback:function(t){e.$set(e.ruleForm,"bxid4",t)},expression:"ruleForm.bxid4"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"操作界面",prop:"ui"}},[r("el-input",{attrs:{placeholder:"请输入内容",disabled:""},model:{value:e.ruleForm.ui,callback:function(t){e.$set(e.ruleForm,"ui",t)},expression:"ruleForm.ui"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}}),e._v(" "),r("el-col",{attrs:{span:6}})],1)],1)],1)},o=[]},h3sT:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("Xxa5"),i=a(o),n=r("exGp"),s=a(n);t.default={data:function(){return{ruleForm:{categoryId:"",categoryModelId:"",readyYesImg:"",logoImg:"",resetImg:"",readyNoImg:"",wifiName:"",wifiPassword:"",cVersionLast:"",wifiHost:"",wifiPort:"",bxid4:"",ui:"default"},rules:{selectedOptions2:[{required:!0,message:"请选择类目",trigger:"change"}],wifiName:[{required:!0,message:"请填写wifi名称",trigger:"change"}],wifiPassword:[{required:!0,message:"请填写wifi密码",trigger:"change"}],cVersionLast:[{required:!0,message:"请填写cVersionLast",trigger:"change"}],wifiHost:[{required:!0,message:"请填写wifi_ip",trigger:"change"}],wifiPort:[{required:!0,message:"请填写wifi端口",trigger:"change"}],bxid4:[{required:!0,min:4,max:4,message:"请填写bxid前4位",trigger:"change"}],ui:[{required:!0,message:"请填写操作界面",trigger:"change"}]},options:[{id:"zhinan",label:"指南",children:[{id:"shejiyuanze",label:"设计原则"},{id:"daohang",label:"导航"}]}],selectedOptions2:[],imageUrl:""}},mounted:function(){this.$store.dispatch("setTitle","类型详情"),this.fetchSmartTypeToaddData(),this.$route.params.id>0&&this.fetchSmartTypeDetailData(this.$route.params.id)},methods:{fetchSmartTypeDetailData:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(i.default.mark(function e(t){var r,a,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,a={id:t},e.next=4,r.http.get(this.api.deviceManageApi.smartTypeDetail,a);case 4:o=e.sent,o&&o.data&&200===o.data.code&&(r.ruleForm=o.data.data.item,r.selectedOptions2=[r.ruleForm.categoryId,r.ruleForm.categoryModelId],r.ruleForm.wifiPassword="********");case 6:case"end":return e.stop()}},e,this)}));return e}(),submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r=t;if(void 0===r.selectedOptions2||0===r.selectedOptions2.length)return void r.$message.warning("类目选择不能为空！");r.ruleForm.readyYesImg&&r.ruleForm.logoImg&&r.ruleForm.resetImg&&r.ruleForm.readyYesImg&&r.postSmartTypeSaveData()})},fetchSmartTypeToaddData:function(){function e(){return t.apply(this,arguments)}var t=(0,s.default)(i.default.mark(function e(){var t,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,r={},e.next=4,t.http.get(this.api.deviceManageApi.smartTypeToadd,r);case 4:a=e.sent,a&&a.data&&200===a.data.code&&(t.options=a.data.data.categoryList);case 6:case"end":return e.stop()}},e,this)}));return e}(),postSmartTypeSaveData:function(){function e(){return t.apply(this,arguments)}var t=(0,s.default)(i.default.mark(function e(){var t,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,r=t.ruleForm,e.next=4,t.http.post(this.api.deviceManageApi.smartTypeSave,r);case 4:a=e.sent,a&&a.data&&200===a.data.code?(t.$message.success("成功！"),t.$router.push("/type-manage")):t.$message.error(a.data.message);case 6:case"end":return e.stop()}},e,this)}));return e}(),handleChange:function(e,t){this.ruleForm.categoryId=e[0],this.ruleForm.categoryModelId=e[1]},resetForm:function(e){this.$refs[e].resetFields()},handleAvatarSuccess1:function(e,t){this.ruleForm.readyYesImg=e.data},handleAvatarSuccess2:function(e,t){this.ruleForm.logoImg=e.data},handleAvatarSuccess3:function(e,t){this.ruleForm.resetImg=e.data},handleAvatarSuccess4:function(e,t){this.ruleForm.readyNoImg=e.data}}}},jyFz:function(e,t,r){var a=function(){return this}()||Function("return this")(),o=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,i=o&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=r("SldL"),o)a.regeneratorRuntime=i;else try{delete a.regeneratorRuntime}catch(e){a.regeneratorRuntime=void 0}}});